{% extends 'base.html' %}

{% block head %}
<style>
  .hero-section {
    background-image: linear-gradient(rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5)), url("{{ url_for('static', filename='images/hero-coffee.jpg') }}");
    background-size: cover;
    background-position: center;
    color: white;
    padding: 120px 0;
    text-align: center;
  }
  .hero-title {
    font-size: 3rem; /* Equivalent to md:text-5xl for medium screens */
    font-weight: bold; /* Equivalent to font-bold */
    margin-bottom: 1rem; /* Equivalent to mb-4 */
  }
  .feature-icon {
    font-size: 2.5rem;
    color: #795548;
    margin-bottom: 1rem;
  }
  .category-card {
    transition: transform 0.3s;
    overflow: hidden;
  }
  .category-card:hover {
    transform: translateY(-5px);
  }
  .category-card img {
    transition: transform 0.3s;
  }
  .category-card:hover img {
    transform: scale(1.05);
  }
</style>
{% endblock %}

{% block content %}
<!-- Hero Section -->
<section class="hero-section">
    <h1 class="hero-title">Authentic Vietnamese Flavors</h1>
    <a href="{{ url_for('user.shop') }}" class="bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-full">SHOP NOW</a>
</section>

<!-- Featured Products -->
<section class="py-12">
    <div class="container mx-auto px-4">
        <h2 class="text-3xl font-bold text-center mb-8">Featured Products</h2>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
            {% for product in featured_products %}
            <div class="bg-white rounded-lg shadow overflow-hidden">
                <a href="{{ url_for('user.product_detail', product_id=product[0]) }}">
                    <img src="{{ url_for('static', filename='images/' + product[7]) }}" alt="{{ product[1] }}" class="w-full h-48 object-cover">
                </a>
                <div class="p-4">
                    <h3 class="text-xl font-semibold mb-2">{{ product[1] }}</h3>
                    <p class="text-gray-700 mb-2">${{ product[3]|round(2) }}</p>
                    <div class="flex justify-between items-center">
                        <a href="{{ url_for('user.product_detail', product_id=product[0]) }}" class="text-amber-600 hover:text-amber-800">View <i class="fas fa-arrow-right ml-1"></i></a>
                    </div>
                </div>
            </div>
            {% endfor %}
        </div>
        <div class="text-center mt-8">
            <a href="{{ url_for('user.shop') }}" class="inline-block bg-amber-600 hover:bg-amber-700 text-white font-bold py-3 px-6 rounded-full">VIEW ALL PRODUCTS</a>
        </div>
    </div>
</section>

<script>
  // This function sends a POST request to add a product to the user's wishlist
  // and displays a toast notification with the server's response.
  function addToWishlist(productId) {
    fetch("{{ url_for('user.add_to_wishlist') }}", {
      method: "POST",
      headers: { "Content-Type": "application/x-www-form-urlencoded" },
      body: "product_id=" + productId,
    })
      .then((r) => r.json())
      .then((data) => {
        Toastify({
          text: data.message || data.error,
          backgroundColor: data.error ? "#FF6347" : "#32CD32",
        }).showToast();
      });
  }
</script>
<script src="{{ url_for('static', filename='script.js') }}" defer></script>
{% endblock %}
