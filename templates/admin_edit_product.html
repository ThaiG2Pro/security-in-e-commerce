{% extends 'base.html' %}
{% block title %}Edit Product{% endblock %}
{% block content %}
<div class="container mx-auto p-4 max-w-lg">
  <h1 class="text-2xl font-bold mb-6 text-center">Edit Product</h1>
  <form action="{{ url_for('admin.admin_edit_product', product_id=product[0]) }}" method="POST">
    <div class="mb-4">
      <label class="block text-gray-700">Name</label>
      <input type="text" name="name" value="{{ product[1] }}" class="w-full p-2 border rounded" required />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Price</label>
      <input type="number" step="0.01" name="price" value="{{ product[3] }}" class="w-full p-2 border rounded" required />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Image Path</label>
      <input type="text" name="image" value="{{ product[7] }}" class="w-full p-2 border rounded" placeholder="example.jpg" required />
      <small class="text-gray-500">Just the filename (e.g., "product.jpg"), not the full path</small>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Description</label>
      <textarea name="description" class="w-full p-2 border rounded" required>{{ product[4] }}</textarea>
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">SKU</label>
      <input type="text" name="sku" value="{{ product[5] }}" class="w-full p-2 border rounded" required />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Stock Quantity</label>
      <input type="number" name="stock_quantity" value="{{ product[6] }}" class="w-full p-2 border rounded" required />
    </div>
    <div class="mb-4">
      <label class="block text-gray-700">Category</label>
      <select name="category_id" class="w-full p-2 border rounded">
        <option value="">-- Select Category --</option>
        {% for category in categories %}
        <option value="{{ category[0] }}" {% if product[8] == category[0] %}selected{% endif %}>{{ category[1] }}</option>
        {% endfor %}
      </select>
    </div>
    <button type="submit" class="w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600">Update Product</button>
  </form>
  <a href="{{ url_for('admin.admin_products') }}" class="block mt-6 text-blue-500 hover:underline text-center">Back to Products</a>
</div>
{% endblock %}
